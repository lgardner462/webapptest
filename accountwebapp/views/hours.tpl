<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css"/>
	<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css"/>
 	<link rel="stylesheet" type="text/css" href="{{ url('static', filename='hours.css') }}" />
</head>

<body>

	<!-- times must match 15-minute interval pattern -->
	% TIME_REGEX = "(0?[0-9]|1[0-9]|2[0-3]):?(00|15|30|45)"

	% NAME_REGEX = "[a-zA-Z]{2,}"

	<!-- ######################################################################################################### -->
	<!-- SCRIPTS START -->
	
	% include hours_js_functions

	<!-- SCRIPTS END -->
	<!-- ######################################################################################################### -->


	<!-- ######################################################################################################### -->
	<!-- ######################################################################################################### -->

	<div class="container">
		<div class="row">
			<div class="col-md-10">
				<h1>Hours</h1>
			</div>
		</div>


		<!-- ********************************************************************************************************* -->
		<!-- ######################################################################################################### -->
		<!-- ********************************************************************************************************* -->
		<!-- ######################################################################################################### -->
		<!-- NO INITIAL RECORDS START -->
		<!-- Creates an initial form if there are no records yet; otherwise, it doesn't exist -->
		% if not records:
			% recordID = "record"
			<!-- INPUTS -->
			<div class="row">
				<div class="col-md-10">
					<!-- PANEL -->
					<div class="panel panel-default">

						% include hours_panel_body i_s=""

					</div> <!-- /.panel -->
				</div> <!-- /.col-md-10 -->
			</div> <!-- /.row --> 
		<!-- NO INITIAL RECORDS END -->
		<!-- ######################################################################################################### -->
		<!-- ********************************************************************************************************* -->
		<!-- ######################################################################################################### -->
		<!-- ********************************************************************************************************* -->









		<!-- ********************************************************************************************************* -->
		<!-- ######################################################################################################### -->
		<!-- ********************************************************************************************************* -->
		<!-- ######################################################################################################### -->
		<!-- RECORDS LIST START -->
		<!-- Creates a series of records; each record has its own form; the records toggle accordion-style -->

		% else:
			<div class="row">
				<div class="col-md-10">
					<div class="records">
						<div class="panel-group" id="accordion">
							<!-- ######################################################################################################### -->
							<!-- SYSTEMATIC VARIABLE NAMING FOR ELEMENT IDS -->
							% records = filter(None, records) # remove empty elements from records 

							% i = 0 # record index / id counter

							% for r in records:
								% i_s = str(i)
								% recordID = "record" + i_s


								<!-- ######################################################################################################### -->
								<!-- ######################################################################################################### -->
								<!-- FOR EACH RECORD START -->
								% if r and r != '\n':
									<!-- Parse times from the record -->
									% # come back to this
									% # prev_start = records[recordIndex].start
									% # prev_end = records[recordIndex].end

									<!-- PANEL START -->
									<div class="panel panel-default">

					    			<!-- PANEL COLLAPSE/BODY START -->
				    				<div id={{recordID}} class="panel-collapse collapse">
				    					% include hours_panel_body i_s=i_s
					    			</div>					    			
					    			<!-- PANEL BODY/COLLAPSE END -->
								

										<!-- PANEL HEADING START -->					    			
					    			% include hours_panel_heading r=r, i=i, is_new_record=False
					    			<!-- PANEL HEADING END -->

									</div>
									<!-- PANEL END -->
									
									<hr />
								% end # if r and r!= '\n'

								<!-- Increment counter after -->
								% i += 1

							% end # end for each record
							<!-- FOR EACH RECORD END -->
							<!-- ######################################################################################################### -->
							<!-- ######################################################################################################### -->
						




							<!-- ######################################################################################################### -->
							<!-- ######################################################################################################### -->
							<!-- NEW RECORD FORM START -->
							% i_s = str(i)

							% recordID = "record" + i_s

							<div class="panel panel-default">

			    			<!-- ######################################################################################################### -->
			    			<!-- PANEL COLLAPSE/BODY START -->
		    				<div id={{recordID}} class="panel-collapse collapse in">
			    			
			    				% include hours_panel_body i_s=i_s

			    			</div> <!-- /.panel-collapse -->
			    			<!-- PANEL BODY/COLLAPSE END -->
			    			<!-- ######################################################################################################### -->
						

								<!-- ######################################################################################################### -->
								<!-- PANEL HEADING START -->
			    			
			    			% include hours_panel_heading.tpl r=r, i=i, is_new_record=True

			    			<!-- PANEL HEADING END -->
			    			<!-- ######################################################################################################### -->

							</div>
							<!-- NEW RECORD FORM END -->
							<!-- ######################################################################################################### -->
							<!-- ######################################################################################################### -->


							</div> <!-- /.panel-group -->
						</div> <!-- /.records -->
					</div> <!-- /.col-md- -->
			</div> <!-- /.row -->
		% end # if/else

		<!-- RECORDS LIST END -->
		<!-- ######################################################################################################### -->
		<!-- ********************************************************************************************************* -->
		<!-- ######################################################################################################### -->
		<!-- ********************************************************************************************************* -->





		<!-- ######################################################################################################### -->			
		<!-- ######################################################################################################### -->
		<!-- LIST CONTROL BUTTONS START -->

		% include hours_control_buttons name=name

		<!-- LIST CONTROL BUTTONS END -->
		<!-- ######################################################################################################### -->
		<!-- ######################################################################################################### -->
	

	</div> <!-- /.container -->

<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
<script src="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>

</body>

</html>

